/*!
 * jquery-sweet-scroll
 * It is possible to easily and flexibly implement smooth scrolling in the same page.
 * @version 1.0.0
 * @author tsuyoshiwada
 * @license MIT
 */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery||e.Zepto)}(this,function(e){"use strict";function t(n){if("string"===e.type(n))return t.callPublicMethod.apply(this,arguments);var o=e.extend({},d,n),i=o.$elem||E,r=t.getScrollElement(o.verticalScroll);if(r&&!t.isDisable()){t.stop();var a={},u=t.formatCoodinate(o.to,o.verticalScroll),c=t.formatCoodinate(o.offset,o.verticalScroll);if(e.isEmptyObject(u)){var f,p,h=o.target||"";if(!/[:,]/.test(h)&&e(h).size()>0){if(f=e(h).offset(),!f)return;a.scrollTop=f.top,a.scrollLeft=f.left}else{if(p=t.formatCoodinate(h.slice(1),o.verticalScroll),e.isEmptyObject(p))return;a.scrollTop=p.top,a.scrollLeft=p.left}}else a.scrollTop=u.top,a.scrollLeft=u.left;a.scrollTop+=c.top,a.scrollLeft+=c.left;var m={width:L.width(),height:L.height()},y={width:E.width(),height:E.height()};if(o.verticalScroll&&a.scrollTop+y.height>m.height&&(a.scrollTop=m.height-y.height),o.horizontalScroll&&a.scrollLeft+y.width>m.width&&(a.scrollLeft=m.width-y.width),o.verticalScroll||delete a.scrollTop,o.horizontalScroll||delete a.scrollLeft,t.hook(i,"beforeScroll",o.beforeScroll,a)===!1)return void(s=null);L.on(v,function(e){s=null,o.stopScroll?t.stop(i,o.cancelScroll):e.preventDefault()});var g=C?"zepto":"jquery",w=l(o.duration)?parseInt(o.duration):w;o.useVelocity&&e.isFunction(e.fn.velocity)&&e.map(a,function(e){return e}).length<2&&(g="velocity"),t.animate(a,o.delay,w,o.easing,g,o.autoCoefficient,function(){t.stop(),s=null,o.changeHash&&(window.location.hash=t.encodeCoodinate(o.to)||t.encodeCoodinate(o.target)),t.hook(i,"afterScroll",o.afterScroll,a)})}}function n(){this.initialize.apply(this,arguments)}function o(t,n){var o=e.inArray(n,t);return o>-1&&t.splice(o,1),t}function i(e,t,n){return Array.prototype.slice.call(e,t,void 0!==n?n:e.length)}function r(e){return e.replace(/\s*/g,"")||""}function l(t){return!e.isArray(t)&&t-parseFloat(t)+1>=0}var a,s,u,c,f="0.0.1",p="sweetscroll",d={duration:1200,delay:0,easing:"easeOutQuint",target:null,to:null,offset:0,autoCoefficient:2,stopScroll:!0,changeHash:!1,verticalScroll:!0,horizontalScroll:!1,loadedScroll:!1,loadedScrollQuery:!1,stopPropagation:!0,useVelocity:!0,beforeScroll:null,afterScroll:null,cancelScroll:null},h={CLICK:"click."+p,WHEEL:("onwheel"in document?"wheel":"onmousewheel"in document?"mousewheel":"DOMMouseScroll")+"."+p},m={START:"touchstart."+p,MOVE:"touchmove."+p},y={ENABLE:1,DISABLE:2},g=e.map(d,function(e,t){return t}),v=[h.WHEEL,m.START,m.MOVE].join(" "),w=y.ENABLE,S=[],b=[],E=e(window),L=e(document),C="undefined"==typeof e.fn.jquery,I={easeInQuint:function(e,t,n,o,i){return o*(t/=i)*t*t*t+n},easeOutQuint:function(e,t,n,o,i){return-o*((t=t/i-1)*t*t*t-1)+n},easeInOutQuint:function(e,t,n,o,i){return(t/=i/2)<1?o/2*t*t*t*t+n:-o/2*((t-=2)*t*t*t-2)+n}};C||"undefined"!=typeof e.easing.easeInQuint||(e.easing=e.extend(e.easing,I)),t.callPublicMethod=function(){var n=arguments[0],o=i(arguments,1);return e.isFunction(t[n])?t[n].apply(t,o):null},t.hook=function(){var t,n=arguments[0],o=arguments[1],r=arguments[2],l=i(arguments,3),a=e.isFunction(r)?r:function(){},s=a.apply(n.get(0),l),u={};return e.each(l,function(t,n){e.isPlainObject(n)&&(u=e.extend(u,n))}),t=new e.Event(p+"."+o,u),n.trigger(t),s},t.stop=function(n,o){u&&(C?c&&c.progress&&(c.stop(),c=null):u.stop(),e.isFunction(e.fn.velocity)&&u.velocity("stop"),L.off(v),n&&t.hook(n||E,"cancelScroll",o))},t.animate=function(e,t,o,i,r,l,a){if(!u)return!1;t=t||d.delay,o=o||d.duration,i=i||d.easing,r=r||(C?"zepto":"jquery"),a=a||function(){};var s="undefined"!=typeof e.scrollTop?"scrollTop":"scrollLeft";if("auto"===o){var f=e[s]-u[s]();f*=0>f?-1:1,o=parseInt(f/l)}switch(r){case"velocity":u.velocity("scroll",{duration:o,axis:"scrollTop"===s?"y":"x",delay:t,easing:i,offset:e[s],queue:!1,complete:function(){a.call()}});break;case"zepto":c=new n(u,e,t,o,i),c.run(function(){c=null,a.call()});break;case"jquery":u.delay(t).animate(e,o,i,function(){a.call()});break;default:a.call()}},t.loaded=function(t){a=a||e.extend({},d,t)},t.enable=function(e){t.isEnable(e)||("undefined"==typeof e?w=y.ENABLE:o(b,e))},t.disable=function(e){t.isDisable(e)||(t.stop(),"undefined"==typeof e?w=y.DISABLE:b.push(e))},t.isEnable=function(t){var n=w===y.ENABLE;return"undefined"==typeof t?n:n&&-1===e.inArray(t,b)},t.isDisable=function(e){return!t.isEnable(e)},t.destroy=function(e){t.stop(),"undefined"==typeof e?(L.off(h.CLICK),w=y.DISABLE,b=[],S=[]):(L.off(h.CLICK,e).off(p,e),o(b,e),o(S,e)),s=null},t.formatCoodinate=function(t,n){var o={};return e.isPlainObject(t)?o=e.extend({top:0,left:0},t):e.isArray(t)?2===t.length?(o.top=t[0],o.left=t[1]):(o.top=n?t[0]:0,o.left=n?0:t[0]):l(t)?(o.top=n?t:0,o.left=n?0:t):"string"===e.type(t)&&(t=r(t),/^[0-9]+,[0-9]+$/.test(t)?(t=t.split(","),o.top=t[0],o.left=t[1]):/(top|left):([0-9]+),?/g.test(t)&&(o={top:t.match(/top:([0-9]+)/)?RegExp.$1:0,left:t.match(/left:([0-9]+)/)?RegExp.$1:0})),"undefined"!=typeof o.top&&(o.top=parseInt(o.top)),"undefined"!=typeof o.left&&(o.left=parseInt(o.left)),o},t.encodeCoodinate=function(t){if(e.isPlainObject(t)){var n=[];return"undefined"!=typeof t.top&&n.push("top:"+t.top),"undefined"!=typeof t.left&&n.push("left:"+t.left),n.join(",")}return e.isArray(t)?t.join(","):("string"===e.type(t)&&(t=r(t)),t)},t.getScrollElement=function(t){if(u)return u;t="undefined"!=typeof t?t:!0;var n=e("body,html"),o=t?"scrollTop":"scrollLeft";if(n.each(function(){return e(this)[o]()>0?(u=e(this),!1):void 0}),!u){var i=E[o]();E[o](i+1),n.each(function(){return e(this)[o]()>0?(u=e(this),!1):void 0}),E[o](i)}return u},n.interval=13,n.frame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){setTimeout(e,n.interval)},n.easing={linear:function(e){return e},easeInQuint:I.easeInQuint,easeOutQuint:I.easeOutQuint,easeInOutQuint:I.easeInOutQuint,easeIn:I.easeInQuint,easeOut:I.easeOutQuint,easeInOut:I.easeInOutQuint},n.prototype={initialize:function(t,n,o,i,r){var l=this;l.$elem=t,l.elem=t[0],l.properties=n||{},l.delay=o||0,l.duration=i||1e3,l.easing=e.camelCase(r||"ease-out"),l.callback=null,l.progress=!1,l.startTime=null},run:function(t){var n=this;n.progress||0===n.$elem.length||(n.progress=!0,n.callback=t||function(){},setTimeout(function(){n.startTime=Date.now(),n.startProperties={},e.each(n.properties,function(e){n.startProperties[e]=n.getValue(e)||0}),n.frame(n.render)},n.delay))},stop:function(t){this.progress=!1,t===!0&&e.isFunction(this.callback)&&this.callback.call(this),this.callback=null},frame:function(t){n.frame.call(window,e.proxy(t,this))},render:function(){if(this.progress){var t=this,o={},i=Date.now(),r=n.easing[t.easing],l=Math.min(1,Math.max((i-t.startTime)/t.duration,0));if(e.each(t.properties,function(e,n){var i,a=t.startProperties[e],s=n-a;return 0===s?!0:(i=r(l,t.duration*l,0,1,t.duration),i=Math.round(a+s*i),void(i!==n&&(o[e]=i)))}),e.isEmptyObject(o))return void t.stop();e.each(o,function(e,n){t.setValue(e,n)}),t.frame(t.render)}},setValue:function(t,n){return this.$elem.css(t)?this.$elem.css(t,n):e.isFunction(this.$elem[t])&&this.$elem[t](n),this},getValue:function(t){var n=this.$elem.css(t);return l(n)?parseFloat(n):e.isFunction(this.$elem[t])?this.$elem[t]():null}},t.version=f,e.sweetScroll=t,e.fn.sweetScroll=function(n){if("string"===e.type(n))return t(n,e(this).selector),this;var i=e(this).selector;return e.inArray(i,S)>-1&&(o(S,i),L.off(h.CLICK,i)),S.push(i),L.on(h.CLICK,i,function(o){if(!t.isDisable(i)&&s!==o.target){s=o.target;var r,l=e(this),a=e.extend({},d,n),u={};o.preventDefault(),a.stopPropagation&&o.stopPropagation(),a.$elem=l,a.target=l.attr("href"),e.each(g,function(t,n){r=l.data(e.camelCase(n.toLowerCase())),"undefined"!=typeof r&&(u[n]=r)}),a=e.extend(a,u),t(a)}}),this},e(function(){if(e.isPlainObject(a)){if(!a.loadedScroll&&!a.loadedScrollQuery)return;var n=window.location,o=a.loadedScrollQuery?n.search.replace("?","#"):n.hash,i=t.formatCoodinate(o);!/[:,]/.test(o)&&e(o).size()>0?(a=e.extend(a,{target:o}),n.hash=""):a=e.extend(a,{to:i}),t(a)}})});